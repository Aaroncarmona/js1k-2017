I=T=h=P=0,a.style.cssText='height:100%;image-rendering:pixelated;image-rendering:-moz-crisp-edges',k=(x,y)=>0<x&&x<y,onkeydown=onkeyup=(x,y)=>c[39-x.which]=x.type[5],w=new ImageData(120,F=160),setInterval(x=(x,y)=>(M=(M+(D=!c[2]-!c[0])*4+360)%360,z=I+=h=-Math.min(c[1]&&F&&F--?2:8,1-h),P+=110<I-P?I-P-110:I-P<5&&I-P-5,A=1228<I?I=c[h=0]=1230:0,e=98+M,((z/60|0)-19||T%60<30)&&(g=(z/60|0)*6+((e+360)%360/60|0))*28%64<39-g/4&&k(z%60-30-h,1-h)&&k((M+38)%60,52)&&(h=13,I+=30-I%60),0<I||(h=13,I=-2),T+=1,requestAnimationFrame(x=(x,y)=>{for(i=120*160;i--;)x=i%120,y=160+(x-i)/120,e=((~D?x-53:69-x)+360)%360,z=P+y,l=k(f=z-I+!A*Math.sin(x/2)*(c[1]?1:14-Math.hypot(h))/8|0,24)&&k(x-52,16)&&!(f<0||47-e<f*2||f<18-e*3&&e*5-4<f||37-f<e*2&&f<e+4)?e+7-f?30-f<e*2&&f<e+4?18:3-(x+z)%2/4:5:z<0?z+6-(x+z)%2/3:1230<z?!A||(x-60)/(100-y)*5+T/5&1&&5-i*i/Math.PI%1:Math.sin(r=Math.acos(x/60%2-1))*9-12+(e=(((1-r/Math.PI)*180+M|0)+360)%360,z<42&&k(e-126,24)&&e%3+1||((z/60|0)-19||T%60<30)&&(g=(z/60|0)*6+((e+360)%360/60|0))*28%64<39-g/4&&k(z%60-30+6,6)&&k(e%60,36)&&10||((z/60|0)-19||T%60<30)&&(g=(z/60|0)*6+((e+360)%360/60|0))*28%64<39-g/4&&k(z%60-30,24)&&k(e%60-6,24)||k(z/6%51,1)&&7||z%6&&(e+z-z%6)%12&&(11-(e+z-z%6)%12&&8||6))*2-(g=z*360+e)*g/Math.PI%1*2,d=Math.min(1,-Math.min(0,Math.hypot(60-x,12-z+I)/12-2))*F*l/80,w.data.set([9*d+l*8,6*d+l*8,6*l+d+l*8,6*60],i*4);c.putImageData(w,0,0)})),M=33)