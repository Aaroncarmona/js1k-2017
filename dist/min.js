T=D=n=k=0,a.style.cssText='height:100%;image-rendering:pixelated;image-rendering:-moz-crisp-edges',P=(x,y)=>(x+360)%360,m=(x,y)=>0<x&&x<y,p=(x,y)=>(x=(y/60|0)*6+(P(x)/60|0))*28%64<39-x/4,onkeydown=onkeyup=(x,y)=>c[39-x.which]=x.type[5],w=new ImageData(120,M=160),setInterval(x=(x,y)=>(I=!c[2]-!c[0],h=P(h+I*4),z=T+=n=-Math.min(c[1]&&M&&M--?2:8,1-n),k+=110<T-k?T-k-110:T-k<5&&T-k-5,o=1228<T?T=c[n=0]=1230:0,((z/60|0)-19||D%60<30)&&p(98+h,T)&&m(T%60-30-n,1-n)&&m((h+38)%60,52)&&(n=13,T+=30-T%60),0<T||(n=13,T=-2),(x=(x,y)=>{for(i=120*160;i--;)x=i%120,y=160+(x-i)/120,e=P(~I?x-53:69-x),z=k+y,l=m(f=z-T+!o*Math.sin(x/2)*(14-Math.hypot(n))/8|0,24)&&m(x-52,16)&&!(f<0||47-e<f*2||f<18-e*3&&e*5-4<f||37-f<e*2&&f<e+4)?e+7-f?30-f<e*2&&f<e+4?18:3-(x+z)%2/4:5:z<0?z+6-(x+z)%2/3:1230<z?o?(x-60)/(100-y)*5+D/5&1&&5-i*i/Math.PI%1:1:Math.sin(r=Math.acos(x/60%2-1))*9-12+(e=P((1-r/Math.PI)*180+h|0),f=(z/60|0)-19||D%60<30?z:z%12+60,f<42&&m(e-126,24)&&e%3+1||p(e,f)&&m(f%60-24,6)&&m(e%60,36)&&10||p(e,f)&&m(f%60-30,24)&&m(e%60-6,24)||m(f/6%51,1)&&7||f%6&&(e+f-f%6)%12&&(11-(e+f-f%6)%12&&8||6))*2-(g=f*360+e)*g/Math.PI%1*2,d=Math.min(1,-Math.min(0,Math.hypot(60-x,12-z+T)/12-2))*M*l/80,w.data.set([9*d+l*8,6*d+l*8,6*l+d+l*8,6*60],i*4);c.putImageData(w,0,0)})(D++)),h=33)