s=n=I=o=0,m=[a.style.cssText='width:480px;image-rendering:pixelated'];D=(x,y,z)=>(x+360)%360,T=(x,y,z)=>x<y&&y<z;u=(x,y,z)=>x/60|0,i=(x,y,z)=>(x=u(y)*6+u(D(x)))*28%64<39-x/4;for(x=1230*360;x--;)y=x/360|0,m[x]=y<42&&T(126,D(x),t=150)?x&3:i(x,y)&&(T(24,y%60,30)&&T(0,x%60,36)?9:T(30,y%60,54)&&T(6,x%60,30))||(T(0,y/6%51,1)?7:y%6&&(x+(y/6&1)*6)%12?(1+x+(y/6&1)*6)%12?8:6:0);onkeydown=onkeyup=(x,y,z)=>c[39-x.which]=x.type[5];setInterval(x=(x,y,z)=>{v=!c[2]-!c[0];p=D(p+v*4);z=s+=I=-Math.min(c[1]&&t&&t--?2:8,1-I);o+=110<(y=s-o)?y-110:y<5&&y-5;k=1228<s?s=c[I=0]=1230:0,(u(z)-19||n%60<30)&&i(98+p,s)&&T(I,s%60-30,1)&&T(0,(p+38)%60,52)&&(s+=30-s%60,I=13);0<s||(I=13,s=-2);(x=(x,y,z)=>{w=new ImageData(120,160);for(x=120*160;x--;)y=x/-120+159|0,e=D(~v?x%120-53:69-x%120),z=o+y,l=T(0,f=z-s+!k*Math.sin(x%120/2)*(14-Math.hypot(I))/8|0,24)&&T(52,x%120,68)&&!(f<0||47-e<f*2||f/3<6-e&&e*5-4<f||37-f<e*2&&f<e+4)?e+7-f?30-f<e*2&&f<e+4?18:3:5:z<0?z+6:1230<z?k?(x%120-60)/(100-y)*5+n/5&1&&4:1:Math.sin(r=Math.acos(x%120/60%2-1))*9-12+m[(u(z)-19||n%60<30?z:z%12+60)*360+D((1-r/Math.PI)*180+p|0)]*2,d=Math.min(1,-Math.min(0,Math.hypot(60-x%120,12-z+s)/12-2))*t*l/80,w.data.set([9*d+l*8,6*d+l*8,l*6+d+l*8,255],x*4);c.putImageData(w,0,0)})(n++)},p=33)